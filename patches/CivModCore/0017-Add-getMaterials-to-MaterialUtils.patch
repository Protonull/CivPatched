From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Alexander <protonull@protonmail.com>
Date: Sat, 13 May 2023 18:24:34 +0100
Subject: [PATCH] Add getMaterials to MaterialUtils


diff --git a/src/main/java/vg/civcraft/mc/civmodcore/inventory/items/MaterialUtils.java b/src/main/java/vg/civcraft/mc/civmodcore/inventory/items/MaterialUtils.java
index e3f8f3da497dbc0dffa524e9c7988f1e9a95f6b1..f7467bd19c5f8a841959f55bd0a5a2e27a754402 100644
--- a/src/main/java/vg/civcraft/mc/civmodcore/inventory/items/MaterialUtils.java
+++ b/src/main/java/vg/civcraft/mc/civmodcore/inventory/items/MaterialUtils.java
@@ -13,6 +13,12 @@ import org.bukkit.Material;
 import org.bukkit.Tag;
 import org.bukkit.inventory.ItemStack;
 
+// CivPatched Start
+import java.util.HashSet;
+import java.util.Set;
+import org.jetbrains.annotations.NotNull;
+// CivPatched End
+
 /**
  * <p>See <a href="https://github.com/Protonull/BukkitReport/tree/master/reports">BukkitReports</a>.</p>
  *
@@ -33,6 +39,18 @@ public final class MaterialUtils {
 		addAll(MaterialTags.CONCRETES.getValues());
 	}};
 
+	// CivPatched Start
+	public final Set<Material> MATERIALS = Set.of(Material.values());
+	/**
+	 * @return Returns a new material set. DO NOT USE {@link java.util.EnumSet<Material>}! As it'll force load all
+	 * materials, including all legacy materials, forcing the server into legacy mode. For some reason
+	 * {@link Material#values()} doesn't do that... odd.
+	 */
+	public @NotNull Set<Material> getMaterials() {
+		return new HashSet<>(MATERIALS);
+	}
+	// CivPatched End
+
 	/**
 	 * Attempts to retrieve a material by its slug.
 	 *
